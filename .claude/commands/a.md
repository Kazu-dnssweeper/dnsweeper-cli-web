# コードベース分析と改善点発見

現在のコードベースを包括的に分析し、改善点を特定してタスクを生成します。

## 1. コードベース全体の分析

### 構造分析
- ファイル・ディレクトリ構造の確認
- 依存関係の分析
- アーキテクチャパターンの評価
- モジュール間の結合度チェック

### 品質分析
- ESLint/TypeScriptエラーの検出
- コードの複雑度測定
- 重複コードの特定
- 命名規則の一貫性チェック

### パフォーマンス分析
- パフォーマンスボトルネックの特定
- メモリ使用量の分析
- 非効率なアルゴリズムの検出
- ビルド時間の測定

## 2. テストカバレッジ分析
- 現在のテストカバレッジ測定
- 未テストコードの特定
- テストの品質評価
- モックとスタブの適切性確認

## 3. セキュリティ分析
- 脆弱性の検出（npm audit）
- セキュリティベストプラクティスのチェック
- 機密情報の漏洩リスク評価
- 依存関係のセキュリティチェック

## 4. ドキュメント分析
- ドキュメントの完成度評価
- APIドキュメントの自動生成可能性
- コード内コメントの品質チェック
- README・ガイドの更新必要性

## 5. 改善タスクの生成
分析結果に基づいて以下を生成：

### 緊急度：高
- セキュリティ脆弱性の修正
- ビルドエラーの解決
- 重要な機能のバグ修正

### 緊急度：中
- テストカバレッジの向上
- パフォーマンスの最適化
- コードの品質改善

### 緊急度：低
- ドキュメントの整備
- コードの重複削除
- 命名の一貫性確保

## 6. 出力フォーマット
分析結果を`.claude/auto-task-system.md`に追加：

```markdown
## 📈 コードベース分析結果 (2025-07-13)

### 品質スコア: 7.5/10
- コード品質: 8/10
- テストカバレッジ: 0/10 (要改善)
- セキュリティ: 9/10
- ドキュメント: 7/10

### 発見された改善点
1. **テストスイートの構築** [緊急度: 高]
   - 単体テストの作成
   - 統合テストの実装
   - E2Eテストの設計

2. **パフォーマンス最適化** [緊急度: 中]
   - 非同期処理の改善
   - メモリ使用量の削減

### 生成されたタスク
- [ ] Jest環境構築とテスト作成
- [ ] ESLintルール強化
- [ ] API仕様書作成
```

## 実行後のアクション
1. `.claude/auto-task-system.md`を更新
2. 最も重要なタスクを次のタスクキューに追加
3. マイルストーンとの整合性確認
4. 改善の進捗を追跡する仕組みを構築