# AI統合分析（Claude API使用）

Claude APIを使用して、アーキテクチャ分析、リファクタリング提案、テスト生成戦略を一度に実行します。

## 実行内容

`/awa`コマンドは`/a --with-ai`のショートカットです。以下の3つの分析を統合実行：

### 1. 🏗️ アーキテクチャ分析
- 現在の品質スコア（7.2/10）から8.5/10への具体的な改善計画
- 技術的負債の優先順位付け
- ベストプラクティスとの差分分析
- 1週間・1ヶ月・3ヶ月の段階的改善計画

### 2. 🔧 リファクタリング提案
- 大きなファイル5個（1,000行超）の具体的な分割方法
- any型（108箇所）を具体的な型に置き換える提案
- 重複コードの統合方法
- 各リファクタリングの推定作業時間

### 3. 🧪 テスト生成戦略
- カバレッジ向上計画（60%→85%）
- 未テストファイルの具体的なテストケース例
- E2Eテストシナリオ（主要5フロー）
- モック・スタブ戦略

## 実行方法

```bash
# AI統合分析を実行
/awa
```

これは以下と同等です：
```bash
/a --with-ai
```

## 実行手順

1. **静的分析の実行**
   - TypeScriptエラー収集（現在69件）
   - ESLintエラー/警告収集（206/308件）
   - テストカバレッジ測定
   - 大きなファイル検出
   - any型使用箇所の特定

2. **Claude APIへの送信**
   - 収集したデータを基にプロンプト生成
   - 3つの分析を並行実行
   - 結果の統合

3. **レポート生成**
   - `.claude/ai-analysis-report.md`に保存
   - 実行可能な提案を含む
   - `/e`コマンドとの自動連携

## コスト
- **実行コスト**: 約$0.125/回
- **推奨頻度**: 週1回
- **月額コスト**: 約$0.50（週1回実行の場合）

## 注意事項
- ANTHROPIC_API_KEYの設定が必要
- 初回実行時はPython依存関係のインストールが必要
- 分析には数分かかる場合があります