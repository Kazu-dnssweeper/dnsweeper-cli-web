# DNSweeper マイルストーン追加項目

## フェーズ1 追加項目（CLI基盤構築）

### **DNSプロバイダーAPI統合（新規追加）**
- [ ] DNSプロバイダー抽象化レイヤー設計
- [ ] Cloudflare API統合実装
  - [ ] APIトークン認証機能
  - [ ] Zone一覧取得機能
  - [ ] DNSレコード一括取得機能
  - [ ] レート制限対応
- [ ] Route53 API統合実装
  - [ ] IAM認証機能
  - [ ] HostedZone一覧取得
  - [ ] RecordSets取得機能
  - [ ] ページネーション対応
- [ ] 汎用DNSプロバイダーインターフェース定義
- [ ] プロバイダー設定管理機能
- [ ] 認証情報セキュア保存機能（keyring統合）

### **履歴データ収集・分析機能（新規追加）**
- [ ] DNSレコード履歴データベース設計
  - [ ] SQLite統合（ローカルストレージ）
  - [ ] 履歴データスキーマ定義
  - [ ] インデックス最適化
- [ ] 定期実行スケジューラー実装
  - [ ] cronジョブ設定機能
  - [ ] 自動実行ログ記録
  - [ ] 実行結果通知機能
- [ ] 履歴分析機能実装
  - [ ] 未使用期間の正確な計算
  - [ ] クエリ頻度分析
  - [ ] トレンド分析（増加/減少/安定）
- [ ] `dnsweeper monitor` コマンド実装
  - [ ] 継続的監視開始/停止
  - [ ] 監視ステータス表示
  - [ ] 履歴データエクスポート

### **実運用向け機能強化（新規追加）**
- [ ] 権限管理機能
  - [ ] 読み取り専用モード
  - [ ] APIアクセス権限検証
  - [ ] 最小権限の原則実装
- [ ] ドライラン機能
  - [ ] 実際の変更を行わない分析モード
  - [ ] 推奨アクション表示
  - [ ] リスク評価レポート
- [ ] フィルタリング機能強化
  - [ ] ドメインパターンによるフィルタ
  - [ ] レコードタイプによるフィルタ
  - [ ] 重要度タグによる除外

## フェーズ2 追加項目（Web版開発）

### **マルチプロバイダー管理ダッシュボード（新規追加）**
- [ ] プロバイダー接続状態ダッシュボード
- [ ] 複数アカウント一元管理
- [ ] プロバイダー間のレコード比較機能
- [ ] 一括操作UI（複数プロバイダー対応）

### **履歴データ可視化（新規追加）**
- [ ] DNS使用状況グラフ表示
  - [ ] 時系列チャート（Chart.js統合）
  - [ ] ヒートマップ表示
  - [ ] トレンドライン表示
- [ ] リスクスコア推移グラフ
- [ ] クエリ頻度分析ビュー
- [ ] 異常検知アラート表示

### **自動化ワークフロー（新規追加）**
- [ ] 定期スキャンスケジュール設定UI
- [ ] カスタムアラートルール設定
- [ ] Webhook統合（Slack, Teams通知）
- [ ] レポート自動生成・配信機能

## フェーズ3 追加項目（SaaS化）

### **エンタープライズ機能（新規追加）**
- [ ] SAML/OIDC認証統合
- [ ] 監査ログ完全記録
- [ ] RBAC（役割ベースアクセス制御）
- [ ] コンプライアンスレポート機能

### **高度な分析機能（新規追加）**
- [ ] 機械学習による異常検知
  - [ ] 通常パターン学習
  - [ ] 異常スコアリング
  - [ ] 予測分析
- [ ] DNSセキュリティ脅威検出
  - [ ] DGAドメイン検出
  - [ ] タイポスクワッティング検出
  - [ ] DNSトンネリング検出

### **統合機能（新規追加）**
- [ ] SIEM統合（Splunk, Elastic）
- [ ] SOAR統合（自動対応）
- [ ] ServiceNow統合（チケット作成）
- [ ] Terraform統合（IaC対応）

## 実装優先順位の見直し

### 即効性のある機能（Phase 1で優先実装）
1. スナップショット分析（実装済み）✅
2. CSVインポート/エクスポート（実装済み）✅
3. リスクスコア計算（実装済み）✅
4. **DNSプロバイダーAPI統合**（新規）← 次の優先事項

### 中期的価値のある機能（Phase 1後半〜Phase 2）
1. **履歴データ収集・分析**（新規）
2. 自動化スケジューラー
3. Web UI基本機能

### 長期的な差別化機能（Phase 2後半〜Phase 3）
1. 機械学習による分析
2. エンタープライズ統合
3. マルチテナント対応

## 技術的負債の考慮

### 現在の課題
- セキュリティ脆弱性（7件のmoderate）
- 履歴データなしでの「未使用期間」判定
- 手動CSVエクスポートへの依存

### 解決アプローチ
1. **短期**: API統合で自動化
2. **中期**: 履歴DB構築で正確な分析
3. **長期**: SaaS化で継続的監視

これらの追加項目により、DNSweeperは単なる「スナップショット分析ツール」から「継続的DNS監視・管理プラットフォーム」へと進化します。