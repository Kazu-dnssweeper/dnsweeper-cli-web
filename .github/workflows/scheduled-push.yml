name: Scheduled Auto Push
on:
  schedule:
    # æ—¥æœ¬æ™‚é–“ã®æœ9æ™‚ã€æ˜¼12æ™‚ã€å¤•æ–¹6æ™‚ã€å¤œ11æ™‚
    - cron: '0 0,3,9,14 * * *'
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  auto-push:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          fetch-depth: 0
      
      - name: Check and Push
        run: |
          # æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ã‚’ç¢ºèª
          if [[ -n $(git status -s) ]]; then
            git config user.name "Auto Push Bot"
            git config user.email "bot@example.com"
            git add .
            git commit -m "ğŸ¤– auto: $(date '+%Y-%m-%d %H:%M') JST å®šæœŸè‡ªå‹•ä¿å­˜"
            git push origin main
          fi